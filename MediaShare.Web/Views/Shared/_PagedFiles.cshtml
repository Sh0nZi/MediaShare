@using MediaShare.Web.Models.Files
@using PagedList.Mvc
@model PagedList.IPagedList<MediaFileViewModel>

@if (Model.Any())
{
    if (Request.IsAjaxRequest())
    { 
        <div class="col-md-10">
            @Html.PagedListPager(Model, page => Url.Action("RenderFiles", "AllFiles", new { page = page }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(PagedListRenderOptions.OnlyShowFivePagesAtATime, new AjaxOptions { UpdateTargetId = "files-container", HttpMethod = "GET" }))
        </div>
    }
    foreach (var item in Model)
    {
        var someClass = "col-md-4";
        if (ViewBag.Title == "All Media" || Request.IsAjaxRequest())
        {
            someClass = "col-md-7";
        }

        <div class=@someClass style="margin-bottom:50px;">
            @{Html.RenderPartial("_FilePartial", item);}
            @if (ViewBag.Title == "All Media" || Request.IsAjaxRequest())
            {
                Html.RenderPartial("FileInfoPartial", item);                          
            }
        </div>
    }
    if (Request.IsAjaxRequest())
    {
        <div class="col-md-10">
            @Html.PagedListPager(Model, page => Url.Action("RenderFiles", "AllFiles", new { page = page }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(PagedListRenderOptions.OnlyShowFivePagesAtATime, new AjaxOptions { UpdateTargetId = "files-container", HttpMethod = "GET" }))
        </div>
    }

}
else
{
    <h3 class="text-center">No Entries...</h3>
}
